{"version":3,"file":"main.js","mappings":"yBAuBIA,EAAE,cAAcC,GAAG,GAAGC,QApBRF,EAoB6B,gBAlBrCG,GACF,QACA,CAAEC,QAgBqD,eAfvD,SAAUC,GACN,MAAMC,EAASN,EAAEO,MAAMC,KAAK,mBACtBC,EAAOT,EAAEO,MAAMG,MAAMC,OAAOC,cAElC,IAAK,IAAIC,EAAI,EAAGA,EAAIb,EAAEK,EAAES,KAAKV,QAAU,aAAaF,OAAQW,IAAK,CAC7D,MAAME,EAAOf,EAAEK,EAAES,KAAKV,QAAU,aAAaH,GAAGY,GAE5CE,EAAKC,KAAK,MAAMf,GAAGK,GAAQG,OAAOE,OAAOC,cAAcK,SAASR,GAChEM,EAAKG,OACFH,EAAKI,MAChB,CACJ,IAKJnB,EAAE,cAAcC,GAAG,GAAGC,QAAQkB,UAC9BpB,EAAE,aAAaC,GAAG,GAAGC,QAAQmB,eAEjC,MAAMC,EAAqBC,SAASC,iBAAiB,8BAoCrD,SAASC,EAAMC,EAAKC,GAChB,MAAO,CACHC,OAAQ,gBAAFC,OAAkBH,GACxBI,UAAW,EACXC,MAAO,IACPC,MAAO,SAAUC,EAAOC,GACpB3B,KAAK4B,MAAQD,EAAGE,KAAKC,MACrBJ,EAAMK,gBACV,EACAC,OAAQ,SAAUN,EAAOC,GACrB3B,KAAK4B,MAAQD,EAAGE,KAAKC,MACrBrC,EAAE,IAAD6B,OAAKF,IAASjB,IAAIwB,EAAGE,KAAKD,OAC3BF,EAAMK,gBACV,EACAE,OAAQ,SAAUP,EAAOC,GACrBlC,EAAE,YAAYyC,YAAY,kBAC9B,EACAC,SAAU,SAAUT,EAAOC,GACvBlC,EAAE,YAAY2C,SAAS,kBAC3B,EAER,CAvDIrB,GACoB,IAAIA,GAAoBsB,KACxCC,GAAoB,IAAIC,UAAUC,QAAQF,KAKlD7C,EAAE,yBAAyBG,GAAG,oBAAoB,WAC9C,MAAM6C,EAAKhD,EAAEO,MAAMC,KAAK,MACxBR,EAAE,2BAAD6B,OAA4BmB,EAAE,OAAMvC,KAAK,QAC9C,IACAT,EAAE,yBAAyBG,GAAG,oBAAoB,WAC9C,MAAM6C,EAAKhD,EAAEO,MAAMC,KAAK,MACxBR,EAAE,2BAAD6B,OAA4BmB,EAAE,OAAMvC,KAAK,SAC9C,IAIIT,EAAEkC,KACFlC,EAAEiD,OAAO,wBAAyBjD,EAAEkC,GAAGgB,aAAc,CACjDC,YAAa,SAAUC,EAAIC,GACvB,MAAMC,EAAO/C,KACbP,EAAEuD,KAAKF,GAAO,SAAUG,EAAOpB,GAC3BkB,EAAKG,gBAAgBL,EAAIhB,EAC7B,IACApC,EAAEoD,GAAIT,SAAS,mDACf3C,EAAEoD,GAAIpC,KAAK,MAAM2B,SAAS,eAC9B,IAGJ3C,EAAE,oCAAoC0D,eAAejC,EAAM,SAAU,oCACrEzB,EAAE,6BAA6B0D,eAAejC,EAAM,SAAU,qCA2BlEzB,EAAE,oBAAoBG,GAAG,SAAS,WAC9B,MAAMwD,EAAM,CAAEC,IAAK,IACnB,IAAK,IAAI/C,EAAI,EAAGA,EAAIb,EAAE,eAAeE,OAAQW,IACzC8C,EAAIC,IAAIC,KAAK7D,EAAE,eAAeC,GAAGY,GAAGJ,OAAOE,QAG/CX,EAAE8D,IAAI,mCAAoCH,GAAK,SAAU7C,GAErDA,EAAKiD,SAAQ,SAAU3B,GACnB,MAAM4B,EAAQ5B,EAAK6B,KAAKrD,cACxBZ,EAAE,iBAAD6B,OAAkBmC,EAAK,cAAavD,KAAK,IAADoB,OAAKO,EAAK8B,WAAWC,eAAe,MAAK,QACtF,IAEAnE,EAAE,oBAAoBQ,KAAK,YAAY,EAC3C,GACJ,G","sources":["webpack://edhelper/./src/js/main.js"],"sourcesContent":["// import './bootstrapJS/bootstrap.js';\r\n\r\nfunction columnFilter(inputSelector, tableId) {\r\n    const input = $(inputSelector);\r\n\r\n    input.on(\r\n        'input',\r\n        { tableId: tableId },\r\n        function (e) {\r\n            const colIdx = $(this).attr('data-filter-idx');\r\n            const text = $(this).val().trim().toLowerCase();\r\n\r\n            for (let i = 0; i < $(e.data.tableId + ' tbody tr').length; i++) {\r\n                const $row = $(e.data.tableId + ' tbody tr').eq(i);\r\n\r\n                if ($row.find('td').eq(colIdx).text().trim().toLowerCase().includes(text)) {\r\n                    $row.show();\r\n                } else $row.hide();\r\n            }\r\n        }\r\n    )\r\n}\r\n\r\nif ($('#dataTable').eq(0).length) columnFilter('input.search', '#dataTable');\r\nif ($('[data-idd]').eq(0).length) ddInput();\r\nif ($('[data-ac]').eq(0).length) autoComplete();\r\n\r\nconst tooltipTriggerList = document.querySelectorAll('[data-bs-toggle=\"tooltip\"]');\r\n\r\nif (tooltipTriggerList) {\r\n    const tooltipList = [...tooltipTriggerList].map(\r\n        tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl)\r\n    );\r\n}\r\n\r\n// form filter button behavior\r\n$('.form-filter.collapse').on('show.bs.collapse', function () {\r\n    const id = $(this).attr('id');\r\n    $(`button[data-bs-target='#${id}']`).text('close');\r\n})\r\n$('.form-filter.collapse').on('hide.bs.collapse', function () {\r\n    const id = $(this).attr('id');\r\n    $(`button[data-bs-target='#${id}']`).text('filter');\r\n})\r\n// end of form filter button behavior\r\n\r\n// custom jQuery Autocomplete widget\r\nif ($.ui) {\r\n    $.widget(\"custom.bsAutocomplete\", $.ui.autocomplete, {\r\n        _renderMenu: function (ul, items) {\r\n            const that = this;\r\n            $.each(items, function (index, item) {\r\n                that._renderItemData(ul, item);\r\n            });\r\n            $(ul).addClass(\"dropdown-menu overflow-y-auto overflow-x-hidden\");\r\n            $(ul).find('li').addClass('dd-list-item');\r\n        }\r\n    });\r\n\r\n    $(\"#materialtraderssearch-refsystem\").bsAutocomplete(acCfg('system', 'materialtraderssearch-refsystem'));\r\n    $(\"#stationssearch-refsystem\").bsAutocomplete(acCfg('system', 'materialtraderssearch-refsystem'));\r\n}\r\n\r\nfunction acCfg(cat, inpId) {\r\n    return {\r\n        source: `/search/?cat=${cat}`,\r\n        minLength: 3,\r\n        delay: 1000,\r\n        focus: function (event, ui) {\r\n            this.value = ui.item.label; // or $('#autocomplete-input').val(ui.item.label);\r\n            event.preventDefault(); // Prevent the default focus behavior.\r\n        },\r\n        select: function (event, ui) {\r\n            this.value = ui.item.label;\r\n            $(`#${inpId}`).val(ui.item.value);\r\n            event.preventDefault();\r\n        },\r\n        search: function (event, ui) {\r\n            $('.spinner').removeClass('visually-hidden');\r\n        },\r\n        response: function (event, ui) {\r\n            $('.spinner').addClass('visually-hidden');\r\n        }\r\n    }\r\n}\r\n// end of custom jQuery Autocomplete widget\r\n\r\n$('#btn-mean-prices').on('click', function () {\r\n    const obj = { cmd: [] };\r\n    for (let i = 0; i < $('.c-exp-name').length; i++) {\r\n        obj.cmd.push($('.c-exp-name').eq(i).text().trim())\r\n    }\r\n\r\n    $.get('http://5.35.100.223/markets/mean', obj, function (data) {\r\n        // console.log(data);\r\n        data.forEach(function (item) {\r\n            const cName = item.name.toLowerCase();\r\n            $(`td[data-name=\"${cName}\"] > span`).text(`(${item.mean_price.toLocaleString('uk')} cr)`);\r\n        })\r\n\r\n        $('#btn-mean-prices').attr('disabled', true);\r\n    })\r\n})\r\n\r\n\r\n\r\n\r\n"],"names":["$","eq","length","on","tableId","e","colIdx","this","attr","text","val","trim","toLowerCase","i","data","$row","find","includes","show","hide","ddInput","autoComplete","tooltipTriggerList","document","querySelectorAll","acCfg","cat","inpId","source","concat","minLength","delay","focus","event","ui","value","item","label","preventDefault","select","search","removeClass","response","addClass","map","tooltipTriggerEl","bootstrap","Tooltip","id","widget","autocomplete","_renderMenu","ul","items","that","each","index","_renderItemData","bsAutocomplete","obj","cmd","push","get","forEach","cName","name","mean_price","toLocaleString"],"sourceRoot":""}