{"version":3,"file":"main.js","mappings":"yBAuBIA,EAAE,cAAcC,GAAG,GAAGC,QApBRF,EAoB6B,gBAlBrCG,GACF,QACA,CAAEC,QAgBqD,eAfvD,SAAUC,GACN,MAAMC,EAASN,EAAEO,MAAMC,KAAK,mBACtBC,EAAOT,EAAEO,MAAMG,MAAMC,OAAOC,cAElC,IAAK,IAAIC,EAAI,EAAGA,EAAIb,EAAEK,EAAES,KAAKV,QAAU,aAAaF,OAAQW,IAAK,CAC7D,MAAME,EAAOf,EAAEK,EAAES,KAAKV,QAAU,aAAaH,GAAGY,GAE5CE,EAAKC,KAAK,MAAMf,GAAGK,GAAQG,OAAOE,OAAOC,cAAcK,SAASR,GAChEM,EAAKG,OACFH,EAAKI,MAChB,CACJ,IAKJnB,EAAE,cAAcC,GAAG,GAAGC,QAAQkB,UAC9BpB,EAAE,aAAaC,GAAG,GAAGC,QAAQmB,eAEjC,MAAMC,EAAqBC,SAASC,iBAAiB,8BAoCrD,SAASC,EAAMC,EAAKC,GAChB,MAAO,CACHC,OAAQ,gBAAFC,OAAkBH,GACxBI,UAAW,EACXC,MAAO,IACPC,MAAO,SAAUC,EAAOC,GACpB3B,KAAK4B,MAAQD,EAAGE,KAAKC,MACrBJ,EAAMK,gBACV,EACAC,OAAQ,SAAUN,EAAOC,GACrB3B,KAAK4B,MAAQD,EAAGE,KAAKC,MACrBrC,EAAE,IAAD6B,OAAKF,IAASjB,IAAIwB,EAAGE,KAAKD,OAC3BF,EAAMK,gBACV,EACAE,OAAQ,SAAUP,EAAOC,GACrBlC,EAAE,YAAYyC,YAAY,kBAC9B,EACAC,SAAU,SAAUT,EAAOC,GACvBlC,EAAE,YAAY2C,SAAS,kBAC3B,EAER,CAvDIrB,GACoB,IAAIA,GAAoBsB,KACxCC,GAAoB,IAAIC,UAAUC,QAAQF,KAKlD7C,EAAE,yBAAyBG,GAAG,oBAAoB,WAC9C,MAAM6C,EAAKhD,EAAEO,MAAMC,KAAK,MACxBR,EAAE,2BAAD6B,OAA4BmB,EAAE,OAAMvC,KAAK,QAC9C,IACAT,EAAE,yBAAyBG,GAAG,oBAAoB,WAC9C,MAAM6C,EAAKhD,EAAEO,MAAMC,KAAK,MACxBR,EAAE,2BAAD6B,OAA4BmB,EAAE,OAAMvC,KAAK,SAC9C,IAIIT,EAAEkC,KACFlC,EAAEiD,OAAO,wBAAyBjD,EAAEkC,GAAGgB,aAAc,CACjDC,YAAa,SAAUC,EAAIC,GACvB,MAAMC,EAAO/C,KACbP,EAAEuD,KAAKF,GAAO,SAAUG,EAAOpB,GAC3BkB,EAAKG,gBAAgBL,EAAIhB,EAC7B,IACApC,EAAEoD,GAAIT,SAAS,mDACf3C,EAAEoD,GAAIpC,KAAK,MAAM2B,SAAS,eAC9B,IAGJ3C,EAAE,oCAAoC0D,eAAejC,EAAM,SAAU,oCACrEzB,EAAE,6BAA6B0D,eAAejC,EAAM,SAAU,qCA2BlEzB,EAAE,oBAAoBG,GAAG,SAAS,WAC9B,MAAMwD,EAAM,CAAEC,IAAK,IACnB,IAAK,IAAI/C,EAAI,EAAGA,EAAIb,EAAE,eAAeE,OAAQW,IACzC8C,EAAIC,IAAIC,KAAK7D,EAAE,eAAeC,GAAGY,GAAGJ,OAAOE,QAG/CX,EAAE8D,IAAI,0CAA2CH,GAAK,SAAU7C,GAE5DA,EAAKiD,SAAQ,SAAU3B,GACnB,MAAM4B,EAAQ5B,EAAK6B,KAAKrD,cACxBZ,EAAE,iBAAD6B,OAAkBmC,EAAK,cAAavD,KAAK,IAADoB,OAAKO,EAAK8B,WAAWC,eAAe,MAAK,QACtF,IAEAnE,EAAE,oBAAoBQ,KAAK,YAAY,EAC3C,GACJ,G","sources":["webpack://edhelper/./src/js/main.js"],"sourcesContent":["// import './bootstrapJS/bootstrap.js';\n\nfunction columnFilter(inputSelector, tableId) {\n    const input = $(inputSelector);\n\n    input.on(\n        'input',\n        { tableId: tableId },\n        function (e) {\n            const colIdx = $(this).attr('data-filter-idx');\n            const text = $(this).val().trim().toLowerCase();\n\n            for (let i = 0; i < $(e.data.tableId + ' tbody tr').length; i++) {\n                const $row = $(e.data.tableId + ' tbody tr').eq(i);\n\n                if ($row.find('td').eq(colIdx).text().trim().toLowerCase().includes(text)) {\n                    $row.show();\n                } else $row.hide();\n            }\n        }\n    )\n}\n\nif ($('#dataTable').eq(0).length) columnFilter('input.search', '#dataTable');\nif ($('[data-idd]').eq(0).length) ddInput();\nif ($('[data-ac]').eq(0).length) autoComplete();\n\nconst tooltipTriggerList = document.querySelectorAll('[data-bs-toggle=\"tooltip\"]');\n\nif (tooltipTriggerList) {\n    const tooltipList = [...tooltipTriggerList].map(\n        tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl)\n    );\n}\n\n// form filter button behavior\n$('.form-filter.collapse').on('show.bs.collapse', function () {\n    const id = $(this).attr('id');\n    $(`button[data-bs-target='#${id}']`).text('close');\n})\n$('.form-filter.collapse').on('hide.bs.collapse', function () {\n    const id = $(this).attr('id');\n    $(`button[data-bs-target='#${id}']`).text('filter');\n})\n// end of form filter button behavior\n\n// custom jQuery Autocomplete widget\nif ($.ui) {\n    $.widget(\"custom.bsAutocomplete\", $.ui.autocomplete, {\n        _renderMenu: function (ul, items) {\n            const that = this;\n            $.each(items, function (index, item) {\n                that._renderItemData(ul, item);\n            });\n            $(ul).addClass(\"dropdown-menu overflow-y-auto overflow-x-hidden\");\n            $(ul).find('li').addClass('dd-list-item');\n        }\n    });\n\n    $(\"#materialtraderssearch-refsystem\").bsAutocomplete(acCfg('system', 'materialtraderssearch-refsystem'));\n    $(\"#stationssearch-refsystem\").bsAutocomplete(acCfg('system', 'materialtraderssearch-refsystem'));\n}\n\nfunction acCfg(cat, inpId) {\n    return {\n        source: `/search/?cat=${cat}`,\n        minLength: 3,\n        delay: 1000,\n        focus: function (event, ui) {\n            this.value = ui.item.label; // or $('#autocomplete-input').val(ui.item.label);\n            event.preventDefault(); // Prevent the default focus behavior.\n        },\n        select: function (event, ui) {\n            this.value = ui.item.label;\n            $(`#${inpId}`).val(ui.item.value);\n            event.preventDefault();\n        },\n        search: function (event, ui) {\n            $('.spinner').removeClass('visually-hidden');\n        },\n        response: function (event, ui) {\n            $('.spinner').addClass('visually-hidden');\n        }\n    }\n}\n// end of custom jQuery Autocomplete widget\n\n$('#btn-mean-prices').on('click', function () {\n    const obj = { cmd: [] };\n    for (let i = 0; i < $('.c-exp-name').length; i++) {\n        obj.cmd.push($('.c-exp-name').eq(i).text().trim())\n    }\n\n    $.get('http://edh-market.loc:8080/markets/mean', obj, function (data) {\n        // console.log(data);\n        data.forEach(function (item) {\n            const cName = item.name.toLowerCase();\n            $(`td[data-name=\"${cName}\"] > span`).text(`(${item.mean_price.toLocaleString('uk')} cr)`);\n        })\n\n        $('#btn-mean-prices').attr('disabled', true);\n    })\n})\n\n\n\n\n"],"names":["$","eq","length","on","tableId","e","colIdx","this","attr","text","val","trim","toLowerCase","i","data","$row","find","includes","show","hide","ddInput","autoComplete","tooltipTriggerList","document","querySelectorAll","acCfg","cat","inpId","source","concat","minLength","delay","focus","event","ui","value","item","label","preventDefault","select","search","removeClass","response","addClass","map","tooltipTriggerEl","bootstrap","Tooltip","id","widget","autocomplete","_renderMenu","ul","items","that","each","index","_renderItemData","bsAutocomplete","obj","cmd","push","get","forEach","cName","name","mean_price","toLocaleString"],"sourceRoot":""}